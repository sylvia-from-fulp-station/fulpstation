<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>fulp_modules/readme.md - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a></header><main><h1>Fulpstation Codebase <aside>fulp_modules/readme.md</aside> <a href="https://github.com/sylvia-from-fulp-station/fulpstation/blob/7dca372e5e699f7587235a6bef4fe3cb37214ff8/fulp_modules/readme.md0"><img src="git.png" width="16" height="16" title="fulp_modules/readme.md0"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2 id="contribute-to-tg-or-fulp">Contribute to TG or Fulp?</h2>
<p>As we are a TG downstream, any PR that they merge, will eventually trickle down to us. We highly encourage contributors to PR to TG, rather than Fulp, as it will help us both in the long run.</p>
<ul>
<li><a href="https://github.com/tgstation/tgstation">https://github.com/tgstation/tgstation</a></li>
</ul>
<p>This is a very important thing to know before contributing to Fulpstation. We rebased to rid ourselves of the old grudgecode, we do not wish to re-become it.</p>
<p>NOTE: If you plan on Contributing to Fulpstation, you may want to instead read the guide, located here;</p>
<ul>
<li><a href="https://wiki.fulp.gg/en/GuideToContributing">https://wiki.fulp.gg/en/GuideToContributing</a></li>
</ul>
<h2 id="modular-code-modularity">Modular Code/Modularity</h2>
<p>Modular, as we use it, is described as &quot;Doesn't touch Core TG files/folders&quot;.</p>
<h3 id="what-is-a-tg-file-and-why-does-it-matter">What is a TG file and why does it matter?</h3>
<ul>
<li>a TG file is a file that we share with our upstream, TGstation. Every time we update, all our files get updated to whatever TG has them set to.</li>
<li>To counter this, we have our a fulp_modules folder, containing all the fulp files.</li>
<li>There is one exception, our TGUI files, which is placed in the same folder as TG's. It is placed there because of some dumb tgui stuff who cares no one really knows, it just does. Ok?</li>
</ul>
<h3 id="what-is-a-tg-edit">What is a TG edit?</h3>
<ul>
<li>a TG edit is when Fulp code is inserted into a TG core file/folder.</li>
<li>An obvious example of this are maps and our tgui files, but they are also used for patches/edits we make, that can't be overwriten instead.</li>
</ul>
<h2 id="fulp-modules">Fulp Modules</h2><h3 id="what-is-fulp-modules">What is Fulp Modules?</h3>
<p>This file contains near-all the code exclusive to Fulpstation.
Due to how maintaining a downstream codebase works, since we must frequently update to latest TG, making sure most our code is as Modular as it can be, is the best way to keep us up-to-date without requiring days worth of effort for every update.</p>
<p>We are incredibly strict in modularity, and Pull Requests can (and will) be quickly denied and closed if they are unable to be modular. Exceptions are granted to this, such as if we are already touching said file, as numbers of lines edited is irrelevant once there's at least one line changed.</p>
<h2 id="readme-tg-edits">Readme &amp; TG edits</h2>
<p>Any Pull Request that touches a TG file, or uses TG sprites/sounds, MUST include a readme.MD page in its folder to explain such.
Additionally, edits to TG files MUST be documented in tg_edits.md - This is because it is the primary file Contributors will look at to ensure all Fulp code persists through TGUs.</p>
<p><img src="https://i.imgur.com/4p3iTRx.jpg" alt="image" /></p>
<h1 id="workflows">Workflows</h1>
<p>Due to Fulpstation handling workflows themselves, and due to TG handing us their workflows, to not get flooded with emails, you should disable your Fork's workflows (except Cl Suite and Generate Documentation). To do this, go onto your fork of the Repository, go to the Actions tab, then go to each workflow and click the ... at the right, then manually disable them. It should end up looking like this.</p>
<p><img src="https://i.imgur.com/J8BaqtN.png" alt="image" /></p>
<p>While this isn't required, Fulpstation and your own fork has different workflows, so yours won't affect ours, it will prevent you from getting flooded with emails telling you they've failed.</p>
<h2 id="outside-of-fulp-modules">Outside of Fulp modules</h2><h3 id="defines">Defines</h3>
<p>Defines need to be ticked (i.e. listed in the .dme) before the files where they're used. This includes helpers, symbolic constants, etc. If we were to keep our defines inside of the <code>fulp_modules</code> folder, they would be ticked before <em>our</em> files, but <em>after</em> TG's files. This is a problem if we ever want to make use of them in a TG-Edit, or in other files that must be placed outside of <code>fulp_modules</code>.</p>
<p>For this reason, all our defines are placed in a subfolder called <code>fulp_defines</code>, inside of TG's <code>code/__DEFINES</code> folder. This way, they are ticked immediately after TG's defines.</p>
<h3 id="maps">Maps</h3>
<p>Maps are kept outside of <code>fulp_modules</code> for two reasons.</p>
<ul>
<li>
<p>In the case of stations and shuttles, the code that loads maps requires them to adhere to a certain file structure. This, in turn, forces us to keep their .json file and .dmm files within the <code>_maps</code> folder.</p>
</li>
<li>
<p>In the case of ruins and other non-station maps, we keep them inside the <code>_maps/fulp_maps</code> folder so that the UpdatePaths tool can find and update them without needing to modify the script.</p>
</li>
</ul>
<h3 id="tgui">TGUI</h3>
<p>Due to how TG handles TGUI, there is currently no known way to make this hosted in the Fulp modules folder, therefore they are put in TG's TGUI folder instead. While this is an annoyance, we don't have any better alternative for now, so you can ignore it lacking modularity.</p>
<h2 id="tgu">TGU</h2>
<p>TGU (TG Update) is when a Contributor updates our repository to the latest version of TG Code (<a href="https://github.com/tgstation/tgstation/">https://github.com/tgstation/tgstation/</a>)
We do NOT have a mirror bot, so things must be manually done with GitBash (<a href="https://gitforwindows.org/">https://gitforwindows.org/</a>) by setting tgstation/tgstation as your remote upstream. If you do not know how, you can ask in the Discord for help.</p>
<p>When a Contributor does a TGU, there are a few things to make sure functions properly:</p>
<ol>
<li>No Fulpstation edits or files are being deleted. You can use our tg_edits.md file to help guide you through this, as it lists all our edits.</li>
<li>The tgstation.dme file isn't commenting out any Fulp files and is fully up-to-date.</li>
</ol>
<p>Just as a note, A TGU should occur maximum every 2 months, as to not weight too much work on maintaining our own code to match our upstream's.</p></td></tr></table></main><footer>tgstation.dme <a href="https://github.com/sylvia-from-fulp-station/fulpstation/tree/7dca372e5e699f7587235a6bef4fe3cb37214ff8">7dca372</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>